<%- include('./includes/head.ejs') %>
<link rel="stylesheet" href="/css/incomes.css"> 

<body>
    <%- include('./includes/header.ejs') %>

    <main>
        <% 
             function formatNumber(num) {
                return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1.')   
             }
         %>

        <h1 id="incTitle">Todos los ingresos :</h1>
        <section id="incSection">
            <table id="incTable">
                <% incomes.forEach(element => { %>
                    <tr>
                        <td> 
                            <a href="/operations/edit/<%= element.id %>"><i class="fas fa-pen"></i></a>
                        </td>
                        <td class="tableTds" id="tableDesc"><%= element.description %> </td>
                        <td class="tableTds" id="tableValue">$ <%= formatNumber(element.value) %> </td>
                        <td class="tableTds" id="tableDate"><%= element.date %> </td>
                    </tr>
                <% }) %>
            </table>
        </section>
    </main>

</body>
</html>